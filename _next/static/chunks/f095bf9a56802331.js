(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75875,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(21849),r=e.i(25652),l=e.i(36814),i=e.i(52008),n=e.i(87316),o=e.i(9694),d=e.i(75225),c=e.i(85183),m=e.i(93230),x=e.i(72526),u=e.i(34239),h=e.i(31195),p=e.i(59559),j=e.i(1725),f=e.i(237),g=e.i(15288),N=e.i(87486),y=e.i(77572),b=e.i(93479),v=e.i(10204),k=e.i(72436),C=e.i(23793);function T({label:e,value:s,sub:t,icon:r}){return(0,a.jsx)(g.Card,{className:"gap-3",children:(0,a.jsxs)(g.CardContent,{className:"flex items-center gap-4 pt-0",children:[(0,a.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary",children:(0,a.jsx)(r,{className:"size-5"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-2xl font-bold tabular-nums leading-none",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e}),t&&(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground/70 mt-0.5",children:t})]})]})})}function I({active:e,payload:s,label:t,mode:r="stacked"}){return e&&s?.length?(0,a.jsxs)("div",{className:"rounded-lg border bg-popover px-3 py-2 text-popover-foreground shadow-lg text-xs z-50",children:[(0,a.jsx)("p",{className:"font-semibold mb-1.5",children:t}),(0,a.jsx)("div",{className:"space-y-1",children:s.filter(e=>(e.value??0)>0).map((e,s)=>{let t=C.PLANT_INCOME_PROFILES.find(a=>a.id===e.dataKey),l="area"===r?"income"===e.dataKey?"Annual Income":"Cumulative":t?.label??e.dataKey,i="area"===r?`₹${(e.value??0).toFixed(1)} Lakh`:`₹${((e.value??0)*1e3).toLocaleString("en-IN")}`;return(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"size-2 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-muted-foreground",children:l})]}),(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums",children:i})]},s)})})]}):null}function w({projection:e}){let t=(0,s.useMemo)(()=>e.years.map(e=>{let a={year:`Yr ${e.year}`};for(let s of e.categories)a[s.profileId]=Math.round(s.income/1e3);return a}),[e]),r=(0,s.useMemo)(()=>{let a=new Set(e.categoryTotals.map(e=>e.id));return C.PLANT_INCOME_PROFILES.filter(e=>a.has(e.id))},[e]);return(0,a.jsx)("div",{className:"h-[360px] w-full",children:(0,a.jsx)(h.ResponsiveContainer,{width:"100%",height:"100%",children:(0,a.jsxs)(o.BarChart,{data:t,margin:{top:10,right:10,left:0,bottom:5},children:[(0,a.jsx)(x.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-muted",opacity:.3}),(0,a.jsx)(c.XAxis,{dataKey:"year",tick:{fill:"hsl(var(--muted-foreground))",fontSize:11}}),(0,a.jsx)(m.YAxis,{tick:{fill:"hsl(var(--muted-foreground))",fontSize:11},tickFormatter:e=>`₹${e}K`}),(0,a.jsx)(u.Tooltip,{content:(0,a.jsx)(I,{mode:"stacked"}),cursor:{fill:"hsl(var(--muted))",opacity:.4}}),(0,a.jsx)(p.Legend,{wrapperStyle:{fontSize:11},formatter:e=>{let a=C.PLANT_INCOME_PROFILES.find(a=>a.id===e);return a?.label??e}}),r.map(e=>(0,a.jsx)(d.Bar,{dataKey:e.id,stackId:"income",fill:e.color,radius:0},e.id))]})})})}function L({projection:e}){let t=(0,s.useMemo)(()=>e.years.map(e=>({year:`Yr ${e.year}`,income:Math.round(e.totalIncome/1e5*10)/10,cumulative:Math.round(e.cumulativeIncome/1e5*10)/10})),[e]);return(0,a.jsx)("div",{className:"h-[300px] w-full",children:(0,a.jsx)(h.ResponsiveContainer,{width:"100%",height:"100%",children:(0,a.jsxs)(j.AreaChart,{data:t,margin:{top:10,right:10,left:0,bottom:5},children:[(0,a.jsx)(x.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-muted",opacity:.3}),(0,a.jsx)(c.XAxis,{dataKey:"year",tick:{fill:"hsl(var(--muted-foreground))",fontSize:11}}),(0,a.jsx)(m.YAxis,{tick:{fill:"hsl(var(--muted-foreground))",fontSize:11},tickFormatter:e=>`₹${e}L`}),(0,a.jsx)(u.Tooltip,{content:(0,a.jsx)(I,{mode:"area"})}),(0,a.jsx)(p.Legend,{wrapperStyle:{fontSize:11},formatter:e=>"income"===e?"Annual Income":"Cumulative Income"}),(0,a.jsx)(f.Area,{type:"monotone",dataKey:"cumulative",stroke:"#16a34a",fill:"#16a34a",fillOpacity:.1,strokeWidth:2}),(0,a.jsx)(f.Area,{type:"monotone",dataKey:"income",stroke:"#2563eb",fill:"#2563eb",fillOpacity:.15,strokeWidth:2})]})})})}function S({projection:e}){let t=(0,s.useMemo)(()=>{let a=new Set(e.categoryTotals.map(e=>e.id));return C.PLANT_INCOME_PROFILES.filter(e=>a.has(e.id))},[e]);return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b text-left",children:[(0,a.jsx)("th",{className:"py-2 pr-3 font-medium text-muted-foreground sticky left-0 bg-card z-10 whitespace-nowrap",children:"Year"}),t.map(e=>(0,a.jsx)("th",{className:"py-2 px-2 text-right font-medium text-muted-foreground whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1.5",children:[(0,a.jsx)("span",{className:"size-2 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"hidden sm:inline",children:e.label.split(" (")[0]}),(0,a.jsx)("span",{className:"sm:hidden",children:e.id.slice(0,3)})]})},e.id)),(0,a.jsx)("th",{className:"py-2 px-2 text-right font-medium text-muted-foreground",children:"Annual"}),(0,a.jsx)("th",{className:"py-2 pl-2 text-right font-medium text-muted-foreground",children:"Cumulative"})]})}),(0,a.jsxs)("tbody",{children:[e.years.map(e=>(0,a.jsxs)("tr",{className:"border-b border-border/50",children:[(0,a.jsxs)("td",{className:"py-2 pr-3 font-medium sticky left-0 bg-card z-10 whitespace-nowrap",children:["Year ",e.year]}),t.map(s=>{let t=e.categories.find(e=>e.profileId===s.id),r=t?.income??0;return(0,a.jsx)("td",{className:"py-2 px-2 text-right font-mono tabular-nums text-xs",children:r>0?(0,C.formatLakhs)(r):(0,a.jsx)("span",{className:"text-muted-foreground/40",children:"—"})},s.id)}),(0,a.jsx)("td",{className:"py-2 px-2 text-right font-mono tabular-nums font-medium",children:(0,C.formatLakhs)(e.totalIncome)}),(0,a.jsx)("td",{className:"py-2 pl-2 text-right font-mono tabular-nums text-muted-foreground",children:(0,C.formatLakhs)(e.cumulativeIncome)})]},e.year)),(0,a.jsxs)("tr",{className:"font-semibold border-t-2",children:[(0,a.jsx)("td",{className:"py-2 pr-3 sticky left-0 bg-card z-10 whitespace-nowrap",children:"10-Year Total"}),t.map(s=>{let t=e.categoryTotals.find(e=>e.id===s.id);return(0,a.jsx)("td",{className:"py-2 px-2 text-right font-mono tabular-nums text-xs",children:(0,C.formatLakhs)(t?.total??0)},s.id)}),(0,a.jsx)("td",{className:"py-2 px-2 text-right font-mono tabular-nums"}),(0,a.jsx)("td",{className:"py-2 pl-2 text-right font-mono tabular-nums",children:(0,C.formatLakhs)(e.grandTotal)})]})]})]})})}function A({projection:e}){let s=e.grandTotal;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"flex h-3 overflow-hidden rounded-full bg-muted",children:e.categoryTotals.map(e=>(0,a.jsx)("div",{className:"h-full transition-all",style:{width:`${e.total/s*100}%`,backgroundColor:e.color},title:`${e.label}: ${(0,C.formatINR)(e.total)}`},e.id))}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-1.5",children:e.categoryTotals.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("span",{className:"size-2.5 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"truncate text-muted-foreground text-xs",children:e.label.split(" (")[0]}),(0,a.jsx)("span",{className:"ml-auto font-mono text-xs font-medium tabular-nums",children:(0,C.formatLakhs)(e.total)})]},e.id))})]})}function P(){let[e,o]=(0,s.useState)("24x24"),[d,c]=(0,s.useState)("bed2"),[m,x]=(0,s.useState)(1),[u,h]=(0,s.useState)("stacked"),p=(0,s.useMemo)(()=>(0,C.computeIncomeProjection)(e,m,d),[e,m,d]),j=p.years[0],f=p.years[4],I=p.years[9];return(0,a.jsxs)("div",{className:"p-4 md:p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[(0,a.jsx)(t.IndianRupee,{className:"size-6 text-primary"}),"Income Projection"]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Rough 10-year income estimate based on plant density and Palekar Natural Farming yield data."})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsx)(y.Tabs,{value:e,onValueChange:e=>o(e),children:(0,a.jsxs)(y.TabsList,{children:[(0,a.jsx)(y.TabsTrigger,{value:"24x24",children:"24 × 24 ft"}),(0,a.jsx)(y.TabsTrigger,{value:"36x36",children:"36 × 36 ft"})]})}),"24x24"===e&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Label,{className:"text-xs text-muted-foreground",children:"Middle bed:"}),(0,a.jsx)(y.Tabs,{value:d,onValueChange:e=>c(e),children:(0,a.jsxs)(y.TabsList,{className:"h-7",children:[(0,a.jsx)(y.TabsTrigger,{value:"bed2",className:"text-xs px-2 py-0.5 h-6",children:"BA / PA"}),(0,a.jsx)(y.TabsTrigger,{value:"bed4",className:"text-xs px-2 py-0.5 h-6",children:"Vine / Veg"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Label,{htmlFor:"income-acres",className:"text-sm whitespace-nowrap",children:"Acres:"}),(0,a.jsx)(b.Input,{id:"income-acres",type:"number",min:1,max:1e3,value:m,onChange:e=>x(Math.max(1,parseInt(e.target.value)||1)),className:"w-20 font-mono"})]}),(0,a.jsxs)(N.Badge,{variant:"outline",className:"text-xs font-mono",children:[e," model · ",m," acre",m>1?"s":""]})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(T,{icon:n.Calendar,label:"Year 1 Income",value:(0,C.formatLakhs)(j.totalIncome),sub:"Banana, Papaya, ground cover, veg"}),(0,a.jsx)(T,{icon:r.TrendingUp,label:"Year 5 Income",value:(0,C.formatLakhs)(f.totalIncome),sub:"Small & medium trees start producing"}),(0,a.jsx)(T,{icon:l.TreesIcon,label:"Year 10 Income",value:(0,C.formatLakhs)(I.totalIncome),sub:"All trees at full maturity"}),(0,a.jsx)(T,{icon:t.IndianRupee,label:"10-Year Cumulative",value:(0,C.formatLakhs)(p.grandTotal),sub:`Average ${(0,C.formatLakhs)(Math.round(p.grandTotal/10))}/year`})]}),(0,a.jsx)(k.Separator,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(r.TrendingUp,{className:"size-4 text-primary"}),"Year-wise Projection"]}),(0,a.jsx)(y.Tabs,{value:u,onValueChange:e=>h(e),children:(0,a.jsxs)(y.TabsList,{className:"h-8",children:[(0,a.jsx)(y.TabsTrigger,{value:"stacked",className:"text-xs px-3 h-7",children:"By Category"}),(0,a.jsx)(y.TabsTrigger,{value:"cumulative",className:"text-xs px-3 h-7",children:"Cumulative"})]})})]}),(0,a.jsx)(g.Card,{children:(0,a.jsx)(g.CardContent,{className:"pt-4",children:"stacked"===u?(0,a.jsx)(w,{projection:p}):(0,a.jsx)(L,{projection:p})})})]}),(0,a.jsx)(k.Separator,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Layers,{className:"size-4 text-primary"}),(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Detailed Breakdown"})]}),(0,a.jsxs)(g.Card,{children:[(0,a.jsxs)(g.CardHeader,{children:[(0,a.jsx)(g.CardTitle,{className:"text-sm",children:"Year 1–10 Income by Category"}),(0,a.jsxs)(g.CardDescription,{className:"text-xs",children:["Conservative farm-gate estimates · ",m," acre",m>1?"s":""," ·"," ",e," Palekar model"]})]}),(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(S,{projection:p})})]}),(0,a.jsxs)(g.Card,{children:[(0,a.jsxs)(g.CardHeader,{children:[(0,a.jsx)(g.CardTitle,{className:"text-sm",children:"10-Year Category Distribution"}),(0,a.jsxs)(g.CardDescription,{className:"text-xs",children:["Total ",(0,C.formatINR)(p.grandTotal)," over 10 years"]})]}),(0,a.jsx)(g.CardContent,{children:(0,a.jsx)(A,{projection:p})})]})]}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground/60 text-center max-w-2xl mx-auto",children:"Disclaimer: These are rough conservative estimates based on Palekar Natural Farming literature and average farm-gate prices. Actual income depends on variety selection, soil, climate, management practices, market prices, and post-harvest handling."})]})}e.s(["IncomeProjector",()=>P])}]);