(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3281,e=>{"use strict";let t=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],3281)},59559,e=>{"use strict";var t=e.i(71645),a=e.i(74080),r=e.i(88860),n=e.i(7670),s=e.i(48337),l=e.i(13659),i=e.i(73393),o=e.i(51883);function c(){return(c=Object.assign.bind()).apply(null,arguments)}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var u={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function m(e){var a,{data:r,iconType:n,inactiveColor:s}=e,i=32/6,o=32/3,c=r.inactive?s:r.color,u=null!=n?n:r.type;if("none"===u)return null;if("plainline"===u)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null==(a=r.payload)?void 0:a.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===u)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(16,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(16,"\n            H").concat(32,"M").concat(2*o,",").concat(16,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(16),className:"recharts-legend-icon"});if("rect"===u)return t.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(r.legendIcon)){var m=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){var r,n,s;r=e,n=t,s=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},r);return delete m.legendIcon,t.cloneElement(r.legendIcon,m)}return t.createElement(l.Symbols,{fill:c,cx:16,cy:16,size:32,sizeType:"diameter",type:u})}function p(e){var{payload:a,iconSize:r,layout:l,formatter:o,inactiveColor:d,iconType:u}=e,p={x:0,y:0,width:32,height:32},x={display:"horizontal"===l?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map((a,l)=>{var f=a.formatter||o,g=(0,n.clsx)({"recharts-legend-item":!0,["legend-item-".concat(l)]:!0,inactive:a.inactive});if("none"===a.type)return null;var y=a.inactive?d:a.color,b=f?f(a.value,a,l):a.value;return t.createElement("li",c({className:g,style:x,key:"legend-item-".concat(l)},(0,i.adaptEventsOfChild)(e,a,l)),t.createElement(s.Surface,{width:r,height:r,viewBox:p,style:h,"aria-label":"".concat(b," legend icon")},t.createElement(m,{data:a,iconType:u,inactiveColor:d})),t.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b))})}var x=e=>{var a=(0,o.resolveDefaultProps)(e,u),{payload:r,layout:n,align:s}=a;return r&&r.length?t.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===n?s:"left"}},t.createElement(p,c({},a,{payload:r}))):null},h=e.i(51587),f=e.i(27241),g=e.i(21307),y=e.i(35709),b=e.i(46710),j=e.i(93882),v=["contextPayload"];function N(){return(N=Object.assign.bind()).apply(null,arguments)}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach(function(t){var r,n,s;r=e,n=t,s=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function k(e){return e.value}function S(e){var{contextPayload:a}=e,r=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,v),n=(0,h.getUniqPayload)(a,e.payloadUniqBy,k),s=A(A({},r),{},{payload:n});return t.isValidElement(e.content)?t.cloneElement(e.content,s):"function"==typeof e.content?t.createElement(e.content,s):t.createElement(x,s)}function O(e){var a=(0,f.useAppDispatch)();return(0,t.useEffect)(()=>{a((0,j.setLegendSettings)(e))},[a,e]),null}function C(e){var a=(0,f.useAppDispatch)();return(0,t.useEffect)(()=>(a((0,j.setLegendSize)(e)),()=>{a((0,j.setLegendSize)({width:0,height:0}))}),[a,e]),null}var I={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function w(e){var n,s=(0,o.resolveDefaultProps)(e,I),l=(0,f.useAppSelector)(g.selectLegendPayload),i=(0,r.useLegendPortal)(),c=(0,b.useMargin)(),{width:d,height:u,wrapperStyle:m,portal:p}=s,[x,h]=(0,y.useElementOffset)([l]),j=(0,b.useChartWidth)(),v=(0,b.useChartHeight)();if(null==j||null==v)return null;var P=j-((null==c?void 0:c.left)||0)-((null==c?void 0:c.right)||0),k=(n=s.layout,"vertical"===n&&null!=u?{height:u}:"horizontal"===n?{width:d||P}:null),w=p?m:A(A({position:"absolute",width:(null==k?void 0:k.width)||d||"auto",height:(null==k?void 0:k.height)||u||"auto"},function(e,t,a,r,n,s){var l,i,{layout:o,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(l="center"===c&&"vertical"===o?{left:((r||0)-s.width)/2}:"right"===c?{right:a&&a.right||0}:{left:a&&a.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(i="middle"===d?{top:((n||0)-s.height)/2}:"bottom"===d?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),A(A({},l),i)}(m,s,c,j,v,x)),m),T=null!=p?p:i;if(null==T||null==l)return null;var E=t.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},t.createElement(O,{layout:s.layout,align:s.align,verticalAlign:s.verticalAlign,itemSorter:s.itemSorter}),!p&&t.createElement(C,{width:x.width,height:x.height}),t.createElement(S,N({},s,k,{margin:c,chartWidth:j,chartHeight:v,contextPayload:l})));return(0,a.createPortal)(E,T)}w.displayName="Legend",e.s(["Legend",()=>w],59559)},68834,e=>{"use strict";var t=e.i(71645);let a=e=>{let t,a=new Set,r=(e,r)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},t,n),a.forEach(a=>a(t,e))}},n=()=>t,s={setState:r,getState:n,getInitialState:()=>l,subscribe:e=>(a.add(e),()=>a.delete(e))},l=t=e(r,n,s);return s},r=e=>{let r=e?a(e):a,n=e=>(function(e,a=e=>e){let r=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>a(e.getState()),[e,a]),t.default.useCallback(()=>a(e.getInitialState()),[e,a]));return t.default.useDebugValue(r),r})(r,e);return Object.assign(n,r),n},n=e=>e?r(e):r;e.s(["create",()=>n],68834)},43756,e=>{"use strict";var t=e.i(68834),a=e.i(85149);let r="anf-zones";function n(e){try{localStorage.setItem(r,JSON.stringify(e))}catch{}}let s=(0,t.create)((e,t)=>({zones:function(){try{let e=localStorage.getItem(r);if(e){let t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return t}}catch{}return a.DEFAULT_ZONES}(),addZone:a=>{let r=[...t().zones,a];n(r),e({zones:r})},updateZone:(a,r)=>{let s=t().zones.map(e=>e.id===a?{...e,...r}:e);n(s),e({zones:s})},removeZone:a=>{let r=t().zones.filter(e=>e.id!==a);n(r),e({zones:r})},reorderZones:t=>{n(t),e({zones:t})},resetToDefaults:()=>{n(a.DEFAULT_ZONES),e({zones:a.DEFAULT_ZONES})}}));e.s(["useZoneStore",0,s])},41891,38814,e=>{"use strict";var t=e.i(71645),a=e.i(25949),r=e.i(70778),n=e.i(98596),s=e.i(22273),l=e.i(62327),i=e.i(27241),o=e.i(73310);function c(e){var a=(0,i.useAppDispatch)();return(0,t.useEffect)(()=>{a((0,o.updatePolarOptions)(e))},[a,e]),null}var d=e.i(48973),u=e.i(51883),m=["layout"];function p(){return(p=Object.assign.bind()).apply(null,arguments)}var x={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},h=(0,t.forwardRef)(function(e,a){var i,o=(0,u.resolveDefaultProps)(e.categoricalChartProps,x),{layout:h}=o,f=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(o,m),{chartName:g,defaultTooltipEventType:y,validateTooltipEventTypes:b,tooltipPayloadSearcher:j}=e;return t.createElement(r.RechartsStoreProvider,{preloadedState:{options:{chartName:g,defaultTooltipEventType:y,validateTooltipEventTypes:b,tooltipPayloadSearcher:j,eventEmitter:void 0}},reduxStoreName:null!=(i=o.id)?i:g},t.createElement(n.ChartDataContextProvider,{chartData:o.data}),t.createElement(s.ReportMainChartProps,{layout:h,margin:o.margin}),t.createElement(l.ReportChartProps,{baseValue:void 0,accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className,reverseStackOrder:o.reverseStackOrder}),t.createElement(c,{cx:o.cx,cy:o.cy,startAngle:o.startAngle,endAngle:o.endAngle,innerRadius:o.innerRadius,outerRadius:o.outerRadius}),t.createElement(d.CategoricalChart,p({},f,{ref:a})))});function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach(function(t){var r,n,s;r=e,n=t,s=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var y=["item"],b=g(g({},x),{},{layout:"centric",startAngle:0,endAngle:360}),j=(0,t.forwardRef)((e,r)=>{var n=(0,u.resolveDefaultProps)(e,b);return t.createElement(h,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:y,tooltipPayloadSearcher:a.arrayTooltipSearcher,categoricalChartProps:n,ref:r})});e.s(["PieChart",()=>j],41891),e.s(["Pie",()=>eF,"computePieSectors",()=>ez],38814);var v=e.i(92068),N=e.i(7670),P=e.i(61849),A=e.i(92860),k=e.i(41088),S=e.i(79812),O=e.i(61764),C=e.i(46710),I=e.i(73962),w=e.i(91561),T=e.i(77320),E=e.i(90555),D=e=>e.graphicalItems.polarItems,L=(0,P.createSelector)([I.pickAxisType,w.pickAxisId],O.itemAxisPredicate),z=(0,P.createSelector)([D,O.selectBaseAxis,L],O.combineGraphicalItemsSettings),M=(0,P.createSelector)([z],O.combineGraphicalItemsData),R=(0,P.createSelector)([M,A.selectChartDataAndAlwaysIgnoreIndexes],O.combineDisplayedData),B=(0,P.createSelector)([R,O.selectBaseAxis,z],O.combineAppliedValues);(0,P.createSelector)([R,O.selectBaseAxis,z],(e,t,a)=>a.length>0?e.flatMap(e=>a.flatMap(a=>{var r;return{value:(0,S.getValueByDataKey)(e,null!=(r=t.dataKey)?r:a.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:(0,S.getValueByDataKey)(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var K=()=>void 0,F=(0,P.createSelector)([R,O.selectBaseAxis,z,O.selectAllErrorBarSettings,I.pickAxisType],O.combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),V=(0,P.createSelector)([O.selectBaseAxis,O.selectDomainDefinition,O.selectDomainFromUserPreference,K,F,K,C.selectChartLayout,I.pickAxisType],O.combineNumericalDomain),$=(0,P.createSelector)([O.selectBaseAxis,C.selectChartLayout,R,B,T.selectStackOffsetType,I.pickAxisType,V],O.combineAxisDomain),_=(0,P.createSelector)([$,O.selectRenderableAxisSettings,O.selectRealScaleType],O.combineNiceTicks),Y=(0,P.createSelector)([O.selectBaseAxis,$,_,I.pickAxisType],O.combineAxisDomainWithNiceTicks);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach(function(t){var r,n,s;r=e,n=t,s=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}(0,P.createSelector)([O.selectRealScaleType,Y],E.combineCheckedDomain);var Z=(0,P.createSelector)([D,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),H=[],W=(e,t,a)=>(null==a?void 0:a.length)===0?H:a,q=(0,P.createSelector)([A.selectChartDataAndAlwaysIgnoreIndexes,Z,W],(e,t,a)=>{var r,{chartData:n}=e;if(null!=t&&((r=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:n)&&r.length||null==a||(r=a.map(e=>G(G({},t.presentationProps),e.props))),null!=r))return r}),J=(0,P.createSelector)([q,Z,W],(e,t,a)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var n,s,l=(0,S.getValueByDataKey)(e,t.nameKey,t.name);return s=null!=a&&null!=(n=a[r])&&null!=(n=n.props)&&n.fill?a[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:(0,S.getTooltipNameProp)(l,t.dataKey),color:s,payload:e,type:t.legendType}})}),X=(0,P.createSelector)([q,Z,W,k.selectChartOffsetInternal],(e,t,a,r)=>{if(null!=t&&null!=e)return ez({offset:r,pieSettings:t,displayedData:e,cells:a})}),Q=e.i(97865),ee=e.i(72733),et=e.i(9516),ea=e.i(22787),er=e.i(81977),en=e.i(68970),es=e.i(94395),el=e.i(73393),ei=e.i(18519),eo=e.i(94585),ec=e.i(844),ed=e.i(76735),eu=e.i(95146),em=e.i(94810),ep=e.i(40657),ex=e.i(15549),eh=e.i(91187),ef=e.i(57999),eg=e.i(66576),ey=e.i(69212),eb=e.i(29601),ej=e.i(18457),ev=e.i(51161),eN=["key"],eP=["onMouseEnter","onClick","onMouseLeave"],eA=["id"],ek=["id"];function eS(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function eO(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(a),!0).forEach(function(t){var r,n,s;r=e,n=t,s=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eS(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function eC(){return(eC=Object.assign.bind()).apply(null,arguments)}function eI(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ew(e){var a=(0,t.useMemo)(()=>(0,er.findAllByType)(e.children,ea.Cell),[e.children]),r=(0,i.useAppSelector)(t=>J(t,e.id,a));return null==r?null:t.createElement(eu.SetPolarLegendPayload,{legendPayload:r})}var eT=t.memo(e=>{var{dataKey:a,nameKey:r,sectors:n,stroke:s,strokeWidth:l,fill:i,name:o,hide:c,tooltipType:d,id:u}=e,m={dataDefinedOnItem:n.map(e=>e.tooltipPayload),getPosition:e=>{var t;return null==(t=n[Number(e)])?void 0:t.tooltipPosition},settings:{stroke:s,strokeWidth:l,fill:i,dataKey:a,nameKey:r,name:(0,S.getTooltipNameProp)(o,a),hide:c,type:d,color:i,unit:"",graphicalItemId:u}};return t.createElement(ec.SetTooltipEntrySettings,{tooltipEntrySettings:m})});function eE(e){var{sectors:a,props:r,showLabels:n}=e,{label:s,labelLine:l,dataKey:i}=r;if(!n||!s||!a)return null;var o=(0,ef.svgPropertiesNoEvents)(r),c=(0,ef.svgPropertiesNoEventsFromUnknown)(s),d=(0,ef.svgPropertiesNoEventsFromUnknown)(l),u="object"==typeof s&&"offsetRadius"in s&&"number"==typeof s.offsetRadius&&s.offsetRadius||20,m=a.map((e,a)=>{var r,n,m=(e.startAngle+e.endAngle)/2,p=(0,en.polarToCartesian)(e.cx,e.cy,e.outerRadius+u,m),x=eO(eO(eO(eO({},o),e),{},{stroke:"none"},c),{},{index:a,textAnchor:(r=p.x)>(n=e.cx)?"start":r<n?"end":"middle"},p),h=eO(eO(eO(eO({},o),e),{},{fill:"none",stroke:e.fill},d),{},{index:a,points:[(0,en.polarToCartesian)(e.cx,e.cy,e.outerRadius,m),p],key:"line"});return t.createElement(eb.ZIndexLayer,{zIndex:ej.DefaultZIndexes.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(a)},t.createElement(Q.Layer,null,l&&((e,a)=>{if(t.isValidElement(e))return t.cloneElement(e,a);if("function"==typeof e)return e(a);var r=(0,N.clsx)("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:n}=a,s=eI(a,eN);return t.createElement(ee.Curve,eC({},s,{type:"linear",className:r}))})(l,h),((e,a,r)=>{if(t.isValidElement(e))return t.cloneElement(e,a);var n=r;if("function"==typeof e&&(n=e(a),t.isValidElement(n)))return n;var s=(0,N.clsx)("recharts-pie-label-text",(0,ev.getClassNameFromUnknown)(e));return t.createElement(et.Text,eC({},a,{alignmentBaseline:"middle",className:s}),n)})(s,x,(0,S.getValueByDataKey)(e,i))))});return t.createElement(Q.Layer,{className:"recharts-pie-labels"},m)}function eD(e){var{sectors:a,props:r,showLabels:n}=e,{label:s}=r;return"object"==typeof s&&null!=s&&"position"in s?t.createElement(ey.LabelListFromLabelProp,{label:s}):t.createElement(eE,{sectors:a,props:r,showLabels:n})}function eL(e){var{sectors:a,activeShape:r,inactiveShape:n,allOtherPieProps:s,shape:l,id:o}=e,c=(0,i.useAppSelector)(ed.selectActiveTooltipIndex),d=(0,i.useAppSelector)(ed.selectActiveTooltipDataKey),u=(0,i.useAppSelector)(ed.selectActiveTooltipGraphicalItemId),{onMouseEnter:m,onClick:p,onMouseLeave:x}=s,h=eI(s,eP),f=(0,eo.useMouseEnterItemDispatch)(m,s.dataKey,o),g=(0,eo.useMouseLeaveItemDispatch)(x),y=(0,eo.useMouseClickItemDispatch)(p,s.dataKey,o);return null==a||0===a.length?null:t.createElement(t.Fragment,null,a.map((e,i)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==a.length)return null;var m=null==u||u===o,p=String(i)===c&&(null==d||s.dataKey===d)&&m,x=r&&p?r:c?n:null,b=eO(eO({},e),{},{stroke:e.stroke,tabIndex:-1,[em.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:i,[em.DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME]:o});return t.createElement(Q.Layer,eC({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(i),tabIndex:-1,className:"recharts-pie-sector"},(0,el.adaptEventsOfChild)(h,e,i),{onMouseEnter:f(e,i),onMouseLeave:g(e,i),onClick:y(e,i)}),t.createElement(ei.Shape,eC({option:null!=l?l:x,index:i,shapeType:"sector",isActive:p},b)))}))}function ez(e){var t,a,r,{pieSettings:n,displayedData:s,cells:l,offset:i}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:u,nameKey:m,tooltipType:p}=n,x=Math.abs(n.minAngle),h=(0,es.mathSign)(d-c)*Math.min(Math.abs(d-c),360),f=Math.abs(h),g=s.length<=1?0:null!=(t=n.paddingAngle)?t:0,y=s.filter(e=>0!==(0,S.getValueByDataKey)(e,u,0)).length,b=f-y*x-(f>=360?y:y-1)*g,j=s.reduce((e,t)=>{var a=(0,S.getValueByDataKey)(t,u,0);return e+((0,es.isNumber)(a)?a:0)},0);return j>0&&(a=s.map((e,t)=>{var a,s=(0,S.getValueByDataKey)(e,u,0),d=(0,S.getValueByDataKey)(e,m,t),f=((e,t,a)=>{var r,{top:n,left:s,width:l,height:i}=t,o=(0,en.getMaxRadius)(l,i),c=s+(0,es.getPercentValue)(e.cx,l,l/2),d=n+(0,es.getPercentValue)(e.cy,i,i/2),u=(0,es.getPercentValue)(e.innerRadius,o,0);return{cx:c,cy:d,innerRadius:u,outerRadius:(r=e.outerRadius,"function"==typeof r?(0,es.getPercentValue)(r(a),o,.8*o):(0,es.getPercentValue)(r,o,.8*o)),maxRadius:e.maxRadius||Math.sqrt(l*l+i*i)/2}})(n,i,e),y=((0,es.isNumber)(s)?s:0)/j,v=eO(eO({},e),l&&l[t]&&l[t].props),N=(a=t?r.endAngle+(0,es.mathSign)(h)*g*(0!==s):c)+(0,es.mathSign)(h)*((0!==s?x:0)+y*b),P=(a+N)/2,A=(f.innerRadius+f.outerRadius)/2,k=[{name:d,value:s,payload:v,dataKey:u,type:p,graphicalItemId:n.id}],O=(0,en.polarToCartesian)(f.cx,f.cy,A,P);return r=eO(eO(eO(eO({},n.presentationProps),{},{percent:y,cornerRadius:"string"==typeof o?parseFloat(o):o,name:d,tooltipPayload:k,midAngle:P,middleRadius:A,tooltipPosition:O},v),f),{},{value:s,dataKey:u,startAngle:a,endAngle:N,payload:v,paddingAngle:(0,es.mathSign)(h)*g})})),a}function eM(e){var{showLabels:a,sectors:r,children:n}=e,s=(0,t.useMemo)(()=>a&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,a]);return t.createElement(ey.PolarLabelListContextProvider,{value:a?s:void 0},n)}function eR(e){var{props:a,previousSectorsRef:r,id:n}=e,{sectors:s,isAnimationActive:l,animationBegin:i,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:u,onAnimationStart:m,onAnimationEnd:p}=a,x=(0,ep.useAnimationId)(a,"recharts-pie-"),h=r.current,[f,g]=(0,t.useState)(!1),y=(0,t.useCallback)(()=>{"function"==typeof p&&p(),g(!1)},[p]),b=(0,t.useCallback)(()=>{"function"==typeof m&&m(),g(!0)},[m]);return t.createElement(eM,{showLabels:!f,sectors:s},t.createElement(eg.JavascriptAnimate,{animationId:x,begin:i,duration:o,isActive:l,easing:c,onAnimationStart:b,onAnimationEnd:y,key:x},e=>{var l,i=[],o=s&&s[0],c=null!=(l=null==o?void 0:o.startAngle)?l:0;return null==s||s.forEach((t,a)=>{var r=h&&h[a],n=a>0?(0,v.default)(t,"paddingAngle",0):0;if(r){var s=(0,es.interpolate)(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),l=eO(eO({},t),{},{startAngle:c+n,endAngle:c+s+n});i.push(l),c=l.endAngle}else{var{endAngle:o,startAngle:d}=t,u=(0,es.interpolate)(0,o-d,e),m=eO(eO({},t),{},{startAngle:c+n,endAngle:c+u+n});i.push(m),c=m.endAngle}}),r.current=i,t.createElement(Q.Layer,null,t.createElement(eL,{sectors:i,activeShape:d,inactiveShape:u,allOtherPieProps:a,shape:a.shape,id:n}))}),t.createElement(eD,{showLabels:!f,sectors:s,props:a}),a.children)}var eB={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ej.DefaultZIndexes.area};function eK(e){var{id:a}=e,r=eI(e,eA),{hide:n,className:s,rootTabIndex:l}=e,o=(0,t.useMemo)(()=>(0,er.findAllByType)(e.children,ea.Cell),[e.children]),c=(0,i.useAppSelector)(e=>X(e,a,o)),d=(0,t.useRef)(null),u=(0,N.clsx)("recharts-pie",s);return n||null==c?(d.current=null,t.createElement(Q.Layer,{tabIndex:l,className:u})):t.createElement(eb.ZIndexLayer,{zIndex:e.zIndex},t.createElement(eT,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:a}),t.createElement(Q.Layer,{tabIndex:l,className:u},t.createElement(eR,{props:eO(eO({},r),{},{sectors:c}),previousSectorsRef:d,id:a})))}function eF(e){var a=(0,u.resolveDefaultProps)(e,eB),{id:r}=a,n=eI(a,ek),s=(0,ef.svgPropertiesNoEvents)(n);return t.createElement(ex.RegisterGraphicalItemId,{id:r,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(eh.SetPolarGraphicalItem,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:a.maxRadius}),t.createElement(ew,eC({},n,{id:e})),t.createElement(eK,eC({},n,{id:e}))))}eF.displayName="Pie"},45109,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(17923),n=e.i(36814),s=e.i(21849),l=e.i(25652),i=e.i(52008),o=e.i(21557),c=e.i(46897),d=e.i(3281),u=e.i(75254);let m=(0,u.default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var p=e.i(87316);let x=(0,u.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var h=e.i(9694),f=e.i(75225),g=e.i(85183),y=e.i(93230),b=e.i(72526),j=e.i(34239),v=e.i(31195),N=e.i(59559),P=e.i(1725),A=e.i(237),k=e.i(41891),S=e.i(38814),O=e.i(22787),C=e.i(15288),I=e.i(87486),w=e.i(77572),T=e.i(93479),E=e.i(10204),D=e.i(72436),L=e.i(19455),z=e.i(69485),M=e.i(23793),R=e.i(43756);function B({label:e,value:a,sub:r,icon:n,accent:s}){return(0,t.jsx)(C.Card,{className:"gap-3",children:(0,t.jsxs)(C.CardContent,{className:"flex items-center gap-4 pt-0",children:[(0,t.jsx)("div",{className:`flex size-10 shrink-0 items-center justify-center rounded-lg ${s?"":"bg-primary/10 text-primary"}`,style:s?{backgroundColor:`${s}18`,color:s}:void 0,children:(0,t.jsx)(n,{className:"size-5"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-2xl font-bold tabular-nums leading-none",children:"number"==typeof a?a.toLocaleString("en-IN"):a}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e}),r&&(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground/70 mt-0.5",children:r})]})]})})}function K({categories:e,total:a}){return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex h-3 overflow-hidden rounded-full bg-muted",children:e.map(e=>(0,t.jsx)("div",{className:"h-full transition-all",style:{width:`${e.count/a*100}%`,backgroundColor:e.color},title:`${e.label}: ${e.count.toLocaleString("en-IN")}`},e.category))}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-1.5",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"size-2.5 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"truncate text-muted-foreground text-xs",children:e.label}),(0,t.jsx)("span",{className:"ml-auto font-mono text-xs font-medium tabular-nums",children:e.count.toLocaleString("en-IN")})]},e.category))})]})}function F({utilization:e,blocksPerAcre:a,theoreticalBlocks:r}){let n=Math.round(100*e),s=[{name:"Productive",value:n},{name:"Roads/Infra",value:100-n}],l=["#22c55e","#e5e7eb"];return(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("div",{className:"relative h-[140px] w-[140px] shrink-0",children:[(0,t.jsx)(v.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsx)(k.PieChart,{children:(0,t.jsx)(S.Pie,{data:s,cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,startAngle:90,endAngle:-270,paddingAngle:2,dataKey:"value",stroke:"none",children:s.map((e,a)=>(0,t.jsx)(O.Cell,{fill:l[a]},a))})})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xl font-bold",children:[n,"%"]})})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"size-2.5 rounded-full bg-green-500"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Productive Area"}),(0,t.jsxs)("span",{className:"font-mono font-medium ml-auto",children:[n,"%"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"size-2.5 rounded-full bg-gray-200"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Roads & Infrastructure"}),(0,t.jsxs)("span",{className:"font-mono font-medium ml-auto",children:[100-n,"%"]})]}),(0,t.jsx)(D.Separator,{className:"my-1"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a," modules/acre (of ",r," theoretical)"]})]})]})}function V({projection:e}){let r=(0,a.useMemo)(()=>e.years.map(e=>{let t={year:`Yr ${e.year}`};for(let a of e.categories)t[a.profileId]=Math.round(a.income/1e3);return t}),[e]),n=(0,a.useMemo)(()=>{let t=new Set(e.categoryTotals.map(e=>e.id));return M.PLANT_INCOME_PROFILES.filter(e=>t.has(e.id))},[e]);return(0,t.jsx)("div",{className:"h-[320px] w-full",children:(0,t.jsx)(v.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(h.BarChart,{data:r,margin:{top:10,right:10,left:0,bottom:5},children:[(0,t.jsx)(b.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-muted",opacity:.3}),(0,t.jsx)(g.XAxis,{dataKey:"year",tick:{fill:"hsl(var(--muted-foreground))",fontSize:11}}),(0,t.jsx)(y.YAxis,{tick:{fill:"hsl(var(--muted-foreground))",fontSize:11},tickFormatter:e=>`₹${e}K`}),(0,t.jsx)(j.Tooltip,{content:(0,t.jsx)(_,{}),cursor:{fill:"hsl(var(--muted))",opacity:.4}}),(0,t.jsx)(N.Legend,{wrapperStyle:{fontSize:11},formatter:e=>{let t=M.PLANT_INCOME_PROFILES.find(t=>t.id===e);return t?.label??e}}),n.map(e=>(0,t.jsx)(f.Bar,{dataKey:e.id,stackId:"income",fill:e.color,radius:0},e.id))]})})})}function $({projection:e}){let r=(0,a.useMemo)(()=>e.years.map(e=>({year:`Yr ${e.year}`,income:Math.round(e.totalIncome/1e5*10)/10,cumulative:Math.round(e.cumulativeIncome/1e5*10)/10})),[e]);return(0,t.jsx)("div",{className:"h-[320px] w-full",children:(0,t.jsx)(v.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(P.AreaChart,{data:r,margin:{top:10,right:10,left:0,bottom:5},children:[(0,t.jsx)(b.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-muted",opacity:.3}),(0,t.jsx)(g.XAxis,{dataKey:"year",tick:{fill:"hsl(var(--muted-foreground))",fontSize:11}}),(0,t.jsx)(y.YAxis,{tick:{fill:"hsl(var(--muted-foreground))",fontSize:11},tickFormatter:e=>`₹${e}L`}),(0,t.jsx)(j.Tooltip,{content:(0,t.jsx)(_,{mode:"area"})}),(0,t.jsx)(N.Legend,{wrapperStyle:{fontSize:11},formatter:e=>"income"===e?"Annual Income":"Cumulative Income"}),(0,t.jsx)(A.Area,{type:"monotone",dataKey:"cumulative",stroke:"#16a34a",fill:"#16a34a",fillOpacity:.1,strokeWidth:2}),(0,t.jsx)(A.Area,{type:"monotone",dataKey:"income",stroke:"#2563eb",fill:"#2563eb",fillOpacity:.15,strokeWidth:2})]})})})}function _({active:e,payload:a,label:r,mode:n="stacked"}){return e&&a?.length?(0,t.jsxs)("div",{className:"rounded-lg border bg-popover px-3 py-2 text-popover-foreground shadow-lg text-xs z-50",children:[(0,t.jsx)("p",{className:"font-semibold mb-1.5",children:r}),(0,t.jsx)("div",{className:"space-y-1",children:a.filter(e=>(e.value??0)>0).map((e,a)=>{let r=M.PLANT_INCOME_PROFILES.find(t=>t.id===e.dataKey),s="area"===n?"income"===e.dataKey?"Annual Income":"Cumulative":r?.label??e.dataKey,l="area"===n?`₹${(e.value??0).toFixed(1)} Lakh`:`₹${((e.value??0)*1e3).toLocaleString("en-IN")}`;return(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"size-2 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-muted-foreground",children:s})]}),(0,t.jsx)("span",{className:"font-mono font-medium tabular-nums",children:l})]},a)})})]}):null}function Y({zone:e,model:r,middleBed:n}){let s=(0,a.useMemo)(()=>(0,z.computeFarmDensity)(r,e.acres,n),[r,e.acres,n]),l=(0,a.useMemo)(()=>(0,M.computeIncomeProjection)(r,e.acres,n),[r,e.acres,n]),i=l.years[4];return(0,t.jsxs)(C.Card,{className:"gap-3",children:[(0,t.jsxs)(C.CardHeader,{className:"pb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"size-3 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)(C.CardTitle,{className:"text-sm",children:e.name}),(0,t.jsxs)(I.Badge,{variant:"outline",className:"text-[10px] font-mono ml-auto",children:[e.acres," acre",e.acres>1?"s":""]})]}),(0,t.jsx)(C.CardDescription,{className:"text-xs line-clamp-2",children:e.strategy})]}),(0,t.jsx)(C.CardContent,{className:"pt-0 space-y-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-2 py-1.5",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Plants"}),(0,t.jsx)("p",{className:"font-mono font-semibold",children:s.totalPlants.toLocaleString("en-IN")})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-2 py-1.5",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Modules"}),(0,t.jsx)("p",{className:"font-mono font-semibold",children:s.totalBlocks.toLocaleString("en-IN")})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-2 py-1.5",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Yr 5 Income"}),(0,t.jsx)("p",{className:"font-mono font-semibold text-green-600",children:(0,M.formatLakhs)(i.totalIncome)})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-2 py-1.5",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"10-Yr Total"}),(0,t.jsx)("p",{className:"font-mono font-semibold text-green-600",children:(0,M.formatLakhs)(l.grandTotal)})]})]})})]})}function U({projection:e}){let r=(0,a.useMemo)(()=>{let t=new Set(e.categoryTotals.map(e=>e.id));return M.PLANT_INCOME_PROFILES.filter(e=>t.has(e.id))},[e]);return(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-left",children:[(0,t.jsx)("th",{className:"py-2 pr-3 font-medium text-muted-foreground sticky left-0 bg-card z-10 whitespace-nowrap",children:"Year"}),r.map(e=>(0,t.jsx)("th",{className:"py-2 px-2 text-right font-medium text-muted-foreground whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1.5",children:[(0,t.jsx)("span",{className:"size-2 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"hidden sm:inline",children:e.label.split(" (")[0]}),(0,t.jsx)("span",{className:"sm:hidden",children:e.id.slice(0,3)})]})},e.id)),(0,t.jsx)("th",{className:"py-2 px-2 text-right font-medium text-muted-foreground",children:"Annual"}),(0,t.jsx)("th",{className:"py-2 pl-2 text-right font-medium text-muted-foreground",children:"Cumulative"})]})}),(0,t.jsxs)("tbody",{children:[e.years.map(e=>(0,t.jsxs)("tr",{className:"border-b border-border/50",children:[(0,t.jsxs)("td",{className:"py-2 pr-3 font-medium sticky left-0 bg-card z-10 whitespace-nowrap",children:["Year ",e.year]}),r.map(a=>{let r=e.categories.find(e=>e.profileId===a.id),n=r?.income??0;return(0,t.jsx)("td",{className:"py-2 px-2 text-right font-mono tabular-nums text-xs",children:n>0?(0,M.formatLakhs)(n):(0,t.jsx)("span",{className:"text-muted-foreground/40",children:"—"})},a.id)}),(0,t.jsx)("td",{className:"py-2 px-2 text-right font-mono tabular-nums font-medium",children:(0,M.formatLakhs)(e.totalIncome)}),(0,t.jsx)("td",{className:"py-2 pl-2 text-right font-mono tabular-nums text-muted-foreground",children:(0,M.formatLakhs)(e.cumulativeIncome)})]},e.year)),(0,t.jsxs)("tr",{className:"font-semibold border-t-2",children:[(0,t.jsx)("td",{className:"py-2 pr-3 sticky left-0 bg-card z-10 whitespace-nowrap",children:"10-Year Total"}),r.map(a=>{let r=e.categoryTotals.find(e=>e.id===a.id);return(0,t.jsx)("td",{className:"py-2 px-2 text-right font-mono tabular-nums text-xs",children:(0,M.formatLakhs)(r?.total??0)},a.id)}),(0,t.jsx)("td",{className:"py-2 px-2 text-right font-mono tabular-nums"}),(0,t.jsx)("td",{className:"py-2 pl-2 text-right font-mono tabular-nums",children:(0,M.formatLakhs)(e.grandTotal)})]})]})]})})}function G({counts:e,label:r}){let n=(0,a.useMemo)(()=>(0,z.getPlantDisplayList)(e),[e]),s=n.reduce((e,t)=>e+t.count,0);return(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-left",children:[(0,t.jsx)("th",{className:"py-2 pr-4 font-medium text-muted-foreground",children:"Plant"}),(0,t.jsx)("th",{className:"py-2 px-4 text-right font-medium text-muted-foreground",children:r}),(0,t.jsx)("th",{className:"py-2 pl-4 text-right font-medium text-muted-foreground",children:"%"})]})}),(0,t.jsxs)("tbody",{children:[n.map(e=>(0,t.jsxs)("tr",{className:"border-b border-border/50",children:[(0,t.jsx)("td",{className:"py-2 pr-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"inline-block size-3 rounded-full shrink-0 border",style:{backgroundColor:e.fill,borderColor:e.stroke}}),(0,t.jsx)("span",{children:e.label}),(0,t.jsx)(I.Badge,{variant:"outline",className:"text-[10px] font-mono px-1 py-0",children:e.shortLabel})]})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right font-mono tabular-nums font-medium",children:e.count.toLocaleString("en-IN")}),(0,t.jsxs)("td",{className:"py-2 pl-4 text-right font-mono tabular-nums text-muted-foreground",children:[s>0?(e.count/s*100).toFixed(1):0,"%"]})]},e.id)),(0,t.jsxs)("tr",{className:"font-semibold",children:[(0,t.jsx)("td",{className:"py-2 pr-4",children:"Total"}),(0,t.jsx)("td",{className:"py-2 px-4 text-right font-mono tabular-nums",children:s.toLocaleString("en-IN")}),(0,t.jsx)("td",{className:"py-2 pl-4 text-right font-mono tabular-nums",children:"100%"})]})]})]})})}function Z({projection:e}){let a=e.grandTotal;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex h-3 overflow-hidden rounded-full bg-muted",children:e.categoryTotals.map(e=>(0,t.jsx)("div",{className:"h-full transition-all",style:{width:`${e.total/a*100}%`,backgroundColor:e.color},title:`${e.label}: ${(0,M.formatINR)(e.total)}`},e.id))}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-1.5",children:e.categoryTotals.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"size-2.5 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"truncate text-muted-foreground text-xs",children:e.label.split(" (")[0]}),(0,t.jsx)("span",{className:"ml-auto font-mono text-xs font-medium tabular-nums",children:(0,M.formatLakhs)(e.total)})]},e.id))})]})}function H(){let[e,u]=(0,a.useState)("24x24"),[h,f]=(0,a.useState)("bed2"),[g,y]=(0,a.useState)(10),[b,j]=(0,a.useState)("stacked"),v=(0,R.useZoneStore)(e=>e.zones),N=v.reduce((e,t)=>e+t.acres,0),P=(0,a.useMemo)(()=>(0,z.computeBlockDensity)(e,h),[e,h]),A=(0,a.useMemo)(()=>(0,z.computeAcreDensity)(e,h),[e,h]),k=(0,a.useMemo)(()=>(0,z.computeFarmDensity)(e,g,h),[e,g,h]),S=(0,a.useMemo)(()=>(0,M.computeIncomeProjection)(e,g,h),[e,g,h]),O=(0,a.useMemo)(()=>(0,z.getCategorySummary)(k.plantBreakdown),[k]),_=S.years[0],H=S.years[4],W=S.years[9];return(0,t.jsxs)("div",{className:"p-4 md:p-6 space-y-6 print:p-2",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[(0,t.jsx)(r.BarChart3,{className:"size-6 text-primary"}),"Farm Report"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Consolidated plant counts, area utilization, income projections, and zone breakdown for your farm."})]}),(0,t.jsxs)(L.Button,{variant:"outline",size:"sm",className:"gap-2 print:hidden shrink-0",onClick:()=>{window.print()},children:[(0,t.jsx)(d.Printer,{className:"size-4"}),"Print / Export PDF"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 print:hidden",children:[(0,t.jsx)(w.Tabs,{value:e,onValueChange:e=>u(e),children:(0,t.jsxs)(w.TabsList,{children:[(0,t.jsx)(w.TabsTrigger,{value:"24x24",children:"24 × 24 ft"}),(0,t.jsx)(w.TabsTrigger,{value:"36x36",children:"36 × 36 ft"})]})}),"24x24"===e&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Label,{className:"text-xs text-muted-foreground",children:"Middle bed:"}),(0,t.jsx)(w.Tabs,{value:h,onValueChange:e=>f(e),children:(0,t.jsxs)(w.TabsList,{className:"h-7",children:[(0,t.jsx)(w.TabsTrigger,{value:"bed2",className:"text-xs px-2 py-0.5 h-6",children:"BA / PA"}),(0,t.jsx)(w.TabsTrigger,{value:"bed4",className:"text-xs px-2 py-0.5 h-6",children:"Vine / Veg"})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Label,{htmlFor:"report-acres",className:"text-sm whitespace-nowrap",children:"Productive Acres:"}),(0,t.jsx)(T.Input,{id:"report-acres",type:"number",min:1,max:1e3,value:g,onChange:e=>y(Math.max(1,parseInt(e.target.value)||1)),className:"w-20 font-mono"})]}),(0,t.jsxs)(I.Badge,{variant:"outline",className:"text-xs font-mono",children:[e," model · ",g," acre",g>1?"s":""]})]}),(0,t.jsxs)("div",{className:"hidden print:block text-xs text-muted-foreground border-b pb-2 mb-4",children:["Model: ",e," · ",g," acres · Middle bed:"," ","bed2"===h?"BA/PA":"Vine/Veg"," · Generated:"," ",new Date().toLocaleDateString("en-IN")]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(l.TrendingUp,{className:"size-4 text-primary"}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Executive Summary"})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(B,{icon:n.TreesIcon,label:"Total Plants",value:k.totalPlants,sub:`${A.totalPlantsPerAcre.toLocaleString("en-IN")} per acre \xd7 ${g} acres`,accent:"#22c55e"}),(0,t.jsx)(B,{icon:i.Layers,label:"Total Modules",value:k.totalBlocks,sub:`${A.blocksPerAcre} per acre \xb7 ${P.blockSizeFt} ft modules`,accent:"#3b82f6"}),(0,t.jsx)(B,{icon:s.IndianRupee,label:"Year 5 Annual Income",value:(0,M.formatLakhs)(H.totalIncome),sub:"Small & medium trees producing",accent:"#16a34a"}),(0,t.jsx)(B,{icon:x,label:"10-Year Cumulative",value:(0,M.formatLakhs)(S.grandTotal),sub:`Avg ${(0,M.formatLakhs)(Math.round(S.grandTotal/10))}/year`,accent:"#f59e0b"})]})]}),(0,t.jsx)(D.Separator,{}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(m,{className:"size-4 text-primary"}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Area Utilization"})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(C.Card,{children:[(0,t.jsxs)(C.CardHeader,{children:[(0,t.jsx)(C.CardTitle,{className:"text-sm",children:"Land Use Breakdown"}),(0,t.jsxs)(C.CardDescription,{className:"text-xs",children:[Math.round(100*A.utilization),"% of each acre is productive after deducting roads, ponds, sheds, and boundary"]})]}),(0,t.jsx)(C.CardContent,{children:(0,t.jsx)(F,{utilization:A.utilization,blocksPerAcre:A.blocksPerAcre,theoreticalBlocks:A.theoreticalBlocksPerAcre})})]}),(0,t.jsxs)(C.Card,{children:[(0,t.jsxs)(C.CardHeader,{children:[(0,t.jsx)(C.CardTitle,{className:"text-sm",children:"Module Tiling"}),(0,t.jsx)(C.CardDescription,{className:"text-xs",children:"How K-modules tile across the productive area"})]}),(0,t.jsx)(C.CardContent,{className:"space-y-3",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-3 py-2",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Module Size"}),(0,t.jsxs)("p",{className:"font-mono font-semibold",children:[A.kSizeFt," × ",A.kSizeFt," ft"]})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-3 py-2",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tile Area"}),(0,t.jsxs)("p",{className:"font-mono font-semibold",children:[A.tileAreaSqFt.toLocaleString("en-IN")," sq ft"]})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-3 py-2",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Theoretical / Acre"}),(0,t.jsxs)("p",{className:"font-mono font-semibold",children:[A.theoreticalBlocksPerAcre," modules"]})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-3 py-2",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Actual / Acre"}),(0,t.jsxs)("p",{className:"font-mono font-semibold",children:[A.blocksPerAcre," modules"]})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-3 py-2",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Beds/Module"}),(0,t.jsxs)("p",{className:"font-mono font-semibold",children:[P.bedCount," beds"]})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted/50 px-3 py-2",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Plants/Module"}),(0,t.jsx)("p",{className:"font-mono font-semibold",children:P.grandTotal})]})]})})]})]})]}),(0,t.jsx)(D.Separator,{}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(o.Calculator,{className:"size-4 text-primary"}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Plant Count Breakdown"}),(0,t.jsxs)(I.Badge,{variant:"outline",className:"text-xs font-mono ml-2",children:[k.totalPlants.toLocaleString("en-IN")," plants · ",g," acres"]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(C.Card,{children:[(0,t.jsxs)(C.CardHeader,{children:[(0,t.jsx)(C.CardTitle,{className:"text-sm",children:"Category Distribution"}),(0,t.jsxs)(C.CardDescription,{className:"text-xs",children:["Distribution of"," ",k.totalPlants.toLocaleString("en-IN")," plants across categories"]})]}),(0,t.jsx)(C.CardContent,{children:(0,t.jsx)(K,{categories:O,total:k.totalPlants})})]}),(0,t.jsxs)(C.Card,{children:[(0,t.jsxs)(C.CardHeader,{children:[(0,t.jsx)(C.CardTitle,{className:"text-sm",children:"Detailed Plant Table"}),(0,t.jsxs)(C.CardDescription,{className:"text-xs",children:["Individual plant species counts for ",g," acres"]})]}),(0,t.jsx)(C.CardContent,{children:(0,t.jsx)(G,{counts:k.plantBreakdown,label:`${g} Acres`})})]})]})]}),(0,t.jsx)(D.Separator,{}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(c.MapPin,{className:"size-4 text-primary"}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Zone Breakdown"}),(0,t.jsxs)(I.Badge,{variant:"outline",className:"text-xs font-mono ml-2",children:[v.length," zone",1!==v.length?"s":""," ·"," ",N," acres"]})]}),(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:v.map(a=>(0,t.jsx)(Y,{zone:a,model:e,middleBed:h},a.id))}),(0,t.jsx)(C.Card,{className:"mt-4",children:(0,t.jsx)(C.CardContent,{className:"pt-4",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-left",children:[(0,t.jsx)("th",{className:"py-2 pr-4 font-medium text-muted-foreground",children:"Zone"}),(0,t.jsx)("th",{className:"py-2 px-3 text-right font-medium text-muted-foreground",children:"Acres"}),(0,t.jsx)("th",{className:"py-2 px-3 text-right font-medium text-muted-foreground",children:"Plants"}),(0,t.jsx)("th",{className:"py-2 px-3 text-right font-medium text-muted-foreground",children:"Modules"}),(0,t.jsx)("th",{className:"py-2 px-3 text-right font-medium text-muted-foreground",children:"Yr 5 Income"}),(0,t.jsx)("th",{className:"py-2 pl-3 text-right font-medium text-muted-foreground",children:"10-Yr Total"})]})}),(0,t.jsxs)("tbody",{children:[v.map(a=>{let r=(0,z.computeFarmDensity)(e,a.acres,h),n=(0,M.computeIncomeProjection)(e,a.acres,h);return(0,t.jsxs)("tr",{className:"border-b border-border/50",children:[(0,t.jsx)("td",{className:"py-2 pr-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"size-2.5 rounded-full shrink-0",style:{backgroundColor:a.color}}),(0,t.jsx)("span",{className:"font-medium",children:a.name})]})}),(0,t.jsx)("td",{className:"py-2 px-3 text-right font-mono tabular-nums",children:a.acres}),(0,t.jsx)("td",{className:"py-2 px-3 text-right font-mono tabular-nums",children:r.totalPlants.toLocaleString("en-IN")}),(0,t.jsx)("td",{className:"py-2 px-3 text-right font-mono tabular-nums",children:r.totalBlocks.toLocaleString("en-IN")}),(0,t.jsx)("td",{className:"py-2 px-3 text-right font-mono tabular-nums text-green-600",children:(0,M.formatLakhs)(n.years[4].totalIncome)}),(0,t.jsx)("td",{className:"py-2 pl-3 text-right font-mono tabular-nums font-medium text-green-600",children:(0,M.formatLakhs)(n.grandTotal)})]},a.id)}),(0,t.jsxs)("tr",{className:"font-semibold border-t-2",children:[(0,t.jsx)("td",{className:"py-2 pr-4",children:"Total"}),(0,t.jsx)("td",{className:"py-2 px-3 text-right font-mono tabular-nums",children:N}),(0,t.jsx)("td",{className:"py-2 px-3 text-right font-mono tabular-nums",children:v.reduce((t,a)=>t+(0,z.computeFarmDensity)(e,a.acres,h).totalPlants,0).toLocaleString("en-IN")}),(0,t.jsx)("td",{className:"py-2 px-3 text-right font-mono tabular-nums",children:v.reduce((t,a)=>t+(0,z.computeFarmDensity)(e,a.acres,h).totalBlocks,0).toLocaleString("en-IN")}),(0,t.jsx)("td",{className:"py-2 px-3 text-right font-mono tabular-nums text-green-600",children:(0,M.formatLakhs)(v.reduce((t,a)=>t+(0,M.computeIncomeProjection)(e,a.acres,h).years[4].totalIncome,0))}),(0,t.jsx)("td",{className:"py-2 pl-3 text-right font-mono tabular-nums font-medium text-green-600",children:(0,M.formatLakhs)(v.reduce((t,a)=>t+(0,M.computeIncomeProjection)(e,a.acres,h).grandTotal,0))})]})]})]})})})})]}),(0,t.jsx)(D.Separator,{}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.IndianRupee,{className:"size-4 text-primary"}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Income Projection"})]}),(0,t.jsx)(w.Tabs,{value:b,onValueChange:e=>j(e),children:(0,t.jsxs)(w.TabsList,{className:"h-8 print:hidden",children:[(0,t.jsx)(w.TabsTrigger,{value:"stacked",className:"text-xs px-3 h-7",children:"By Category"}),(0,t.jsx)(w.TabsTrigger,{value:"cumulative",className:"text-xs px-3 h-7",children:"Cumulative"})]})})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-4",children:[(0,t.jsx)(B,{icon:p.Calendar,label:"Year 1 Income",value:(0,M.formatLakhs)(_.totalIncome),sub:"Banana, Papaya, ground cover"}),(0,t.jsx)(B,{icon:l.TrendingUp,label:"Year 5 Income",value:(0,M.formatLakhs)(H.totalIncome),sub:"Small & medium trees start"}),(0,t.jsx)(B,{icon:n.TreesIcon,label:"Year 10 Income",value:(0,M.formatLakhs)(W.totalIncome),sub:"All trees at maturity"}),(0,t.jsx)(B,{icon:s.IndianRupee,label:"10-Year Total",value:(0,M.formatLakhs)(S.grandTotal),sub:`Avg ${(0,M.formatLakhs)(Math.round(S.grandTotal/10))}/yr`})]}),(0,t.jsxs)(C.Card,{className:"mb-4",children:[(0,t.jsxs)(C.CardHeader,{children:[(0,t.jsx)(C.CardTitle,{className:"text-sm",children:"stacked"===b?"Year-wise Income by Category":"Cumulative Income Growth"}),(0,t.jsxs)(C.CardDescription,{className:"text-xs",children:[g," acre",g>1?"s":""," · ",e," Palekar model · Conservative estimates"]})]}),(0,t.jsx)(C.CardContent,{children:"stacked"===b?(0,t.jsx)(V,{projection:S}):(0,t.jsx)($,{projection:S})})]}),(0,t.jsxs)(C.Card,{className:"mb-4",children:[(0,t.jsxs)(C.CardHeader,{children:[(0,t.jsx)(C.CardTitle,{className:"text-sm",children:"10-Year Income Distribution"}),(0,t.jsxs)(C.CardDescription,{className:"text-xs",children:["Total ",(0,M.formatINR)(S.grandTotal)," over 10 years"]})]}),(0,t.jsx)(C.CardContent,{children:(0,t.jsx)(Z,{projection:S})})]}),(0,t.jsxs)(C.Card,{children:[(0,t.jsxs)(C.CardHeader,{children:[(0,t.jsx)(C.CardTitle,{className:"text-sm",children:"Detailed Year-wise Breakdown"}),(0,t.jsxs)(C.CardDescription,{className:"text-xs",children:["Conservative farm-gate estimates · ",g," acre",g>1?"s":""," · ",e," Palekar model"]})]}),(0,t.jsx)(C.CardContent,{children:(0,t.jsx)(U,{projection:S})})]})]}),(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground/60 text-center max-w-2xl mx-auto print:text-left",children:"Disclaimer: All figures are conservative estimates based on Palekar Natural Farming (ZBNF) literature and average farm-gate prices. Actual results depend on variety selection, soil health, climate, management practices, market conditions, and post-harvest handling. This report is for planning purposes only."})]})}e.s(["FarmReport",()=>H],45109)}]);